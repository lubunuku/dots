#!/usr/bin/env bash

dmenu="-l 10"
selected="$(ps -a -u $USER | \
            dmenu -p "select process to kill" $dmenu | \
            awk '{print $1" "$4}')"; 

if [[ ! -z $selected ]]; then

    answer="$(echo -e "Yes\nNo" | \
            dmenu -p "kill $selected?" -c -bw 2 -g 2)"

    if [[ $answer == "Yes" ]]; then
        selpid="$(awk '{print $1}' <<< $selected)"; 
        kill -9 $selpid
    fi
fi

exit 0
